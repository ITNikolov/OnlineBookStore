@page "{id:int}"
@model OnlineBookStore.Pages.Products.DetailsModel
@using OnlineBookStore.Models

@{
	ViewData["Title"] = "Book Details";
	Layout = "/Pages/Shared/_Layout.cshtml";
}

<form method="post">
	<input type="hidden" name="productId" value="@Model.Product.Id" />
	<input type="hidden" name="quantity" value="1" min="1" class="form-control text-end" />
	<div class="container py-4">
		<div class="row">
			<div class="col-md-5 text-center mb-4 mb-md-0">
				<h2>@Model.Product?.Title</h2>
				<img src="/@Model.Product.ImageURL" asp-append-version="true" class="rounded" width="300px" height="450px" alt="Book cover" />
			</div>
			<div class="col-md-7">
				<div class="mb-3">
					<strong>Description:</strong>
					<div class="text-muted" style="white-space: pre-line;">
						@Html.Raw(Model.Product?.Description)
					</div>
				</div>
				<div class="d-flex justify-content-start align-items-start mb-3 flex-wrap">
					<div class="me-4 mb-2">
						<small class="text-uppercase">Category</small><br />
						<span class="badge bg-info text-dark">@Model.Product?.Category.Name</span>
					</div>
					<div class="me-4 mb-2">
						<small class="text-uppercase">ISBN</small><br />
						<span>@Model.Product?.ISBN</span>
					</div>
					<div class="mb-2">
						<small class="text-uppercase">Author</small><br />
						<span>@Model.Product?.Author</span>
					</div>
				</div>
				<div class="mb-3">
					<label class="form-label">Price:</label>
					<p class="h4 text-success">$@Model.Product?.ListPrice.ToString("0.00")</p>
				</div>
				<div class="d-flex flex-wrap">
					<form method="post" asp-page-handler="AddToCart">
						<input type="hidden" asp-for="Product.Id" />
						<button type="submit" class="btn btn-success me-2 mb-2">
							🛒 Add to Cart
						</button>
					</form>
					<a asp-page="/Home/Index" class="btn btn-outline-accent mb-2">
						← Back to Home
					</a>
				</div>
			</div>
		</div>
	</div>

	</div>
	</div>
</form>
